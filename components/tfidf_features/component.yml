$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json

name: tfidf_features
display_name: TF-IDF Features (Train-only Fit)
type: command

inputs:
  train:
    type: uri_folder
  val:
    type: uri_folder
  test:
    type: uri_folder
  max_features:
    type: integer
    default: 1000

outputs:
  train_out:
    type: uri_folder
  val_out:
    type: uri_folder
  test_out:
    type: uri_folder

code: .
command: >
  python tfidf.py
  --train ${{inputs.train}}
  --val ${{inputs.val}}
  --test ${{inputs.test}}
  --out_train ${{outputs.train_out}}
  --out_val ${{outputs.val_out}}
  --out_test ${{outputs.test_out}}
  --max_features ${{inputs.max_features}}

environment: azureml:AzureML-sklearn-1.1-ubuntu20.04-py38-cpu@latest
